/**
 * Tree-sitter grammar for SchemaLang
 * Generated by treelsp - do not edit manually
 */

module.exports = grammar({
  name: "SchemaLang",

  word: $ => $.identifier,

  extras: $ => [
    /\s+/,
    $.comment
  ],

  rules: {
    schema: $ => repeat($.declaration),

    declaration: $ => choice(
      $.type_decl,
      $.enum_decl
    ),

    type_decl: $ => seq(
      "type",
      field("name", $.identifier),
      "{",
      repeat($.field_decl),
      "}"
    ),

    field_decl: $ => seq(
      field("name", $.identifier),
      ":",
      field("type", $.type_ref)
    ),

    enum_decl: $ => seq(
      "enum",
      field("name", $.identifier),
      "{",
      repeat($.variant),
      "}"
    ),

    variant: $ => field("name", $.identifier),

    type_ref: $ => $.identifier,

    identifier: $ => token(/[a-zA-Z_][a-zA-Z0-9_]*/),

    comment: $ => token(/\/\/.*/)
  }
});
