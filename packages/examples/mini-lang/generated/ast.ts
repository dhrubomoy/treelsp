/**
 * AST types for MiniLang
 * Generated by treelsp â€” do not edit
 */

import type { ASTNode } from 'treelsp/runtime';

export interface ProgramNode extends ASTNode {
  readonly type: 'program';
}

export interface StatementNode extends ASTNode {
  readonly type: 'statement';
}

export interface VariableDeclNode extends ASTNode {
  readonly type: 'variable_decl';
  field(name: 'name'): IdentifierNode;
  field(name: 'value'): ExpressionNode;
}

export interface ExprStatementNode extends ASTNode {
  readonly type: 'expr_statement';
  field(name: 'expr'): ExpressionNode;
}

export interface ExpressionNode extends ASTNode {
  readonly type: 'expression';
}

export interface BinaryExprNode extends ASTNode {
  readonly type: 'binary_expr';
  field(name: 'left'): ExpressionNode | null;
  field(name: 'op'): ASTNode | null;
  field(name: 'right'): ExpressionNode | null;
}

export interface IdentifierNode extends ASTNode {
  readonly type: 'identifier';
}

export interface NumberNode extends ASTNode {
  readonly type: 'number';
}

export type MiniLangNode =
  | ProgramNode
  | StatementNode
  | VariableDeclNode
  | ExprStatementNode
  | ExpressionNode
  | BinaryExprNode
  | IdentifierNode
  | NumberNode;

/** Type guard for checking node type */
export function isNodeType<K extends MiniLangNode['type']>(
  node: ASTNode,
  type: K
): node is Extract<MiniLangNode, { type: K }> {
  return node.type === type;
}
