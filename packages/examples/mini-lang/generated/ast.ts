/**
 * AST types for MiniLang
 * Generated by treelsp â€” do not edit
 */

import type { ASTNode } from 'treelsp/runtime';

export interface ProgramNode extends ASTNode {
  readonly type: 'program';
}

export interface StatementNode extends ASTNode {
  readonly type: 'statement';
}

export interface VariableDeclNode extends ASTNode {
  readonly type: 'variable_decl';
  field(name: 'name'): IdentifierNode;
  field(name: 'value'): ExpressionNode;
}

export interface FunctionDeclNode extends ASTNode {
  readonly type: 'function_decl';
  field(name: 'name'): IdentifierNode;
  field(name: 'params'): ParameterListNode;
  field(name: 'body'): BlockNode;
}

export interface ParameterListNode extends ASTNode {
  readonly type: 'parameter_list';
}

export interface ParameterNode extends ASTNode {
  readonly type: 'parameter';
  field(name: 'name'): IdentifierNode;
}

export interface BlockNode extends ASTNode {
  readonly type: 'block';
}

export interface ReturnStatementNode extends ASTNode {
  readonly type: 'return_statement';
  field(name: 'value'): ExpressionNode;
}

export interface ExprStatementNode extends ASTNode {
  readonly type: 'expr_statement';
  field(name: 'expr'): ExpressionNode;
}

export interface ExpressionNode extends ASTNode {
  readonly type: 'expression';
}

export interface CallExprNode extends ASTNode {
  readonly type: 'call_expr';
  field(name: 'callee'): IdentifierNode;
  field(name: 'args'): ArgumentListNode;
}

export interface ArgumentListNode extends ASTNode {
  readonly type: 'argument_list';
}

export interface BinaryExprNode extends ASTNode {
  readonly type: 'binary_expr';
  field(name: 'left'): ExpressionNode | null;
  field(name: 'op'): ASTNode | null;
  field(name: 'right'): ExpressionNode | null;
}

export interface IdentifierNode extends ASTNode {
  readonly type: 'identifier';
}

export interface NumberNode extends ASTNode {
  readonly type: 'number';
}

export interface StringLiteralNode extends ASTNode {
  readonly type: 'string_literal';
}

export interface CommentNode extends ASTNode {
  readonly type: 'comment';
}

export type MiniLangNode =
  | ProgramNode
  | StatementNode
  | VariableDeclNode
  | FunctionDeclNode
  | ParameterListNode
  | ParameterNode
  | BlockNode
  | ReturnStatementNode
  | ExprStatementNode
  | ExpressionNode
  | CallExprNode
  | ArgumentListNode
  | BinaryExprNode
  | IdentifierNode
  | NumberNode
  | StringLiteralNode
  | CommentNode;

/** Type guard for checking node type */
export function isNodeType<K extends MiniLangNode['type']>(
  node: ASTNode,
  type: K
): node is Extract<MiniLangNode, { type: K }> {
  return node.type === type;
}
